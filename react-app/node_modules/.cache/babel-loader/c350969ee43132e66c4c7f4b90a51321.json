{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eklavyasharma/Documents/GitHub/react-url-shortner/react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/eklavyasharma/Documents/GitHub/react-url-shortner/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/eklavyasharma/Documents/GitHub/react-url-shortner/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{Helmet}from\"react-helmet-async\";import Topbar from\"./sub-components/Topbar\";import Bottombar from\"./sub-components/Bottombar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Signup(){var alert=document.getElementById(\"alert\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),fullName=_useState2[0],setFullName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var connect,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(password===confirmPassword)){_context.next=12;break;}_context.next=4;return fetch(\"https://node-mini-urls.herokuapp.com/sign-up\",{method:\"POST\",body:JSON.stringify({fullName:fullName,email:email,password:password}),headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 4:connect=_context.sent;_context.next=7;return connect.json();case 7:res=_context.sent;handleErrors(res,connect);console.log(res);_context.next=14;break;case 12:handleAlerts(\"alert-warning\");alert.innerText=\"Password does not match\";case 14:e.target.reset();case 15:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleErrors=function handleErrors(res,connect){if(connect.status===500){var _fullName=res.fullName,_email=res.email,_password=res.password;handleAlerts(\"alert-danger\");alert.innerText=\"\".concat(_fullName,\" \").concat(_email,\" \").concat(_password);}else if(connect.status===200){handleAlerts(\"alert-success\");alert.innerText=\"User registration successful\";}};var handleAlerts=function handleAlerts(action){alert.className=\"\";alert.classList.add(\"alert\",action);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Sign up / Mini Urls\"})}),/*#__PURE__*/_jsx(Topbar,{value:\"Login\",link:\"/login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 form-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bulb-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/imgs/light-bulb.jpg\",alt:\"light-bulb\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 form-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"row g-3 mx-auto p-4\",style:{maxWidth:\"24rem\"},onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h2 p-2\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"div\",{id:\"alert\",className:\"hidden\",role:\"alert\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputFulltName\",className:\"form-label\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputFullName\",\"aria-describedby\":\"fullName\",onChange:function onChange(e){return setFullName(e.target.value);},value:fullName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"inputEmail\",\"aria-describedby\":\"emailHelp\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"inputPassword1\",onChange:function onChange(e){return setPassword(e.target.value);},minLength:\"6\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword2\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"inputPassword2\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},minLength:\"6\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your information with anyone else.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-md-6 form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"check\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"check\",children:\"I agree to the T&C\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 col-md-6\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button btn btn-primary w-100\",children:\"Submit\"})})]})})]})}),/*#__PURE__*/_jsx(Bottombar,{})]});}export default Signup;","map":{"version":3,"sources":["/Users/eklavyasharma/Documents/GitHub/react-url-shortner/react-app/src/components/Signup.js"],"names":["useState","Helmet","Topbar","Bottombar","Signup","alert","document","getElementById","fullName","setFullName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","handleSubmit","e","preventDefault","fetch","method","body","JSON","stringify","headers","credentials","connect","json","res","handleErrors","console","log","handleAlerts","innerText","target","reset","status","action","className","classList","add","maxWidth","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport Topbar from \"./sub-components/Topbar\";\nimport Bottombar from \"./sub-components/Bottombar\";\n\nfunction Signup() {\n  const alert = document.getElementById(\"alert\");\n  const [fullName, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (password === confirmPassword) {\n      const connect = await fetch(\n        \"https://node-mini-urls.herokuapp.com/sign-up\",\n        {\n          method: \"POST\",\n          body: JSON.stringify({ fullName, email, password }),\n          headers: { \"Content-Type\": \"application/json\" },\n          credentials: \"include\",\n        }\n      );\n      const res = await connect.json();\n      handleErrors(res, connect);\n      console.log(res);\n    } else {\n      handleAlerts(\"alert-warning\");\n      alert.innerText = \"Password does not match\";\n    }\n    e.target.reset();\n  };\n\n  const handleErrors = (res, connect) => {\n    if (connect.status === 500) {\n      const { fullName, email, password } = res;\n      handleAlerts(\"alert-danger\");\n      alert.innerText = `${fullName} ${email} ${password}`;\n    } else if (connect.status === 200) {\n      handleAlerts(\"alert-success\");\n      alert.innerText = \"User registration successful\";\n    }\n  };\n\n  const handleAlerts = (action) => {\n    alert.className = \"\";\n    alert.classList.add(\"alert\", action);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Sign up / Mini Urls</title>\n      </Helmet>\n      <Topbar value=\"Login\" link=\"/login\"></Topbar>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-lg-6 form-container\">\n            <div className=\"bulb-img\">\n              <img src=\"/imgs/light-bulb.jpg\" alt=\"light-bulb\" />\n            </div>\n          </div>\n          <div className=\"col-lg-6 form-container\">\n            <form\n              className=\"row g-3 mx-auto p-4\"\n              style={{ maxWidth: \"24rem\" }}\n              onSubmit={handleSubmit}\n            >\n              <h1 className=\"h2 p-2\">Sign up</h1>\n              {/* Alerts */}\n              <div id=\"alert\" className=\"hidden\" role=\"alert\"></div>\n              <div className=\"mb-3 col-md-6\">\n                <label htmlFor=\"inputFulltName\" className=\"form-label\">\n                  Full Name\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"inputFullName\"\n                  aria-describedby=\"fullName\"\n                  onChange={(e) => setFullName(e.target.value)}\n                  value={fullName}\n                />\n              </div>\n              <div className=\"mb-3 col-md-6\">\n                <label htmlFor=\"inputEmail\" className=\"form-label\">\n                  Email address\n                </label>\n                <input\n                  type=\"email\"\n                  className=\"form-control\"\n                  id=\"inputEmail\"\n                  aria-describedby=\"emailHelp\"\n                  onChange={(e) => setEmail(e.target.value)}\n                  value={email}\n                />\n              </div>\n              <div className=\"mb-3 col-md-6\">\n                <label htmlFor=\"inputPassword1\" className=\"form-label\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  id=\"inputPassword1\"\n                  onChange={(e) => setPassword(e.target.value)}\n                  minLength=\"6\"\n                  required\n                />\n              </div>\n              <div className=\"mb-3 col-md-6\">\n                <label htmlFor=\"inputPassword2\" className=\"form-label\">\n                  Confirm Password\n                </label>\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  id=\"inputPassword2\"\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  minLength=\"6\"\n                  required\n                />\n              </div>\n              <div id=\"emailHelp\" className=\"form-text\">\n                We'll never share your information with anyone else.\n              </div>\n              <div className=\"mb-3 col-md-6 form-check\">\n                <input\n                  type=\"checkbox\"\n                  className=\"form-check-input\"\n                  id=\"check\"\n                  required\n                />\n                <label className=\"form-check-label\" htmlFor=\"check\">\n                  I agree to the T&C\n                </label>\n              </div>\n              <div className=\"mb-3 col-md-6\">\n                <button type=\"submit\" className=\"button btn btn-primary w-100\">\n                  Submit\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <Bottombar />\n    </>\n  );\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}